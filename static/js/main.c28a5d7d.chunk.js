(this["webpackJsonp@chainsafe/chainbridge-ui"]=this["webpackJsonp@chainsafe/chainbridge-ui"]||[]).push([[11],{136:function(e,t,n){e.exports=n.p+"static/media/placeholder.6184fa1c.svg"},241:function(e,t,n){e.exports=n(281)},246:function(e,t,n){},257:function(e,t){},281:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(68),i=n.n(o),l=(n(246),n(44)),c=n(13),s=n(285),d=n(320),u=n(15),p=n(10),m=n(155),f=n(2),b=n.n(f),g=n(24),v=n(18),h=n(60),y=n(32),E=Object(u.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(u.createStyles)({root:{backgroundColor:"".concat(n.additional.gray[9]," !important"),color:n.common.white.main,border:"none",padding:"".concat(3*t.generalUnit,"px ").concat(4*t.generalUnit,"px")},backdrop:{backgroundColor:"".concat(n.additional.gray[9]," !important"),opacity:"0.6 !important"}})})),k=function(e){var t=e.children,n=e.className,a=Object(h.a)(e,["children","className"]),o=E();return r.a.createElement(p.Drawer,Object.assign({classNames:{backdrop:o.backdrop},className:Object(y.default)(o.root,n)},a),t)},w=Object(u.makeStyles)((function(e){var t=e.constants;return Object(u.createStyles)({root:{display:"flex",flexDirection:"column",justifyContent:"space-between"},buttons:{display:"flex",flexDirection:"row",alignItems:"center","& *":{marginRight:t.generalUnit,textDecoration:"none"}}})})),x=function(e){var t=e.open,n=e.close,a=w();return r.a.createElement(k,{onClose:n,open:t,className:a.root},r.a.createElement(p.Typography,{variant:"h1",component:"h4"},"What is ChainBridge?"),r.a.createElement(p.Typography,{component:"p",variant:"h5"},"ChainBridge is a modular multi-directional blockchain bridge to allow data and value transfer between any number of blockchains. This should enable users to specify a destination blockchain from their source chain, and send data to that blockchain for consumption on the destination chain. ",r.a.createElement("br",null),r.a.createElement("br",null),"This could be a token that is locked on ChainA and redeemed on ChainB, or an operation that is executed on a destination chain and initiated on the source chain."),r.a.createElement("section",{className:a.buttons},r.a.createElement(p.Button,{onClick:function(){return n()},variant:"outline"},"OK"),r.a.createElement("a",{rel:"noopener noreferrer",href:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_URL,target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_SERVICE))))},O=n(48),T=Object(u.makeStyles)((function(e){var t=e.constants;return Object(u.createStyles)({root:{},buttons:{display:"flex",flexDirection:"row",flexWrap:"wrap","& > *":{marginTop:2*t.generalUnit,marginRight:t.generalUnit,textDecoration:"none"}},paragraph:{margin:"".concat(3*t.generalUnit,"px 0")}})})),S=function(e){var t=e.open,n=e.close,a=T(),o=Object(O.b)(),i=o.checkIsReady,l=o.onboard,c=function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===l||void 0===l?void 0:l.walletSelect();case 2:return e.next=4,i();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(k,{open:t,className:a.root},r.a.createElement(p.Typography,{variant:"h3",component:"h2"},"Changing Networks"),r.a.createElement(p.Typography,{className:a.paragraph,component:"p",variant:"h5"},"To change networks, please open your browser wallet and change networks there. If your wallet does not support your desired home network, please connect a different wallet. ",r.a.createElement("br",null),r.a.createElement("br",null),"Note: your transfer settings will be reset."),r.a.createElement("section",{className:a.buttons},r.a.createElement(p.Button,{onClick:n,variant:"outline"},"OK"),r.a.createElement(p.Button,{onClick:function(){c()},variant:"outline"},"Connect different wallet"),r.a.createElement("a",{rel:"noopener noreferrer",href:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_URL,target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_SERVICE))))},N=Object(u.makeStyles)((function(e){var t=e.constants;return Object(u.createStyles)({root:{height:"100% !important",borderTopLeftRadius:t.generalUnit/2,borderTopRightRadius:t.generalUnit/2,overflow:"hidden",position:"absolute"}})})),C=function(e){var t=e.children,n=e.className,a=Object(h.a)(e,["children","className"]),o=N();return r.a.createElement(p.Modal,Object.assign({className:Object(y.default)(o.root,n)},a),t)},j=Object(u.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(u.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",borderRadius:"4px",display:"flex",flexDirection:"row",padding:"".concat(6*t.generalUnit,"px ").concat(7*t.generalUnit,"px")},heading:{marginBottom:t.generalUnit},icon:{height:20,width:20,marginTop:.8*t.generalUnit,marginRight:2*t.generalUnit,fill:n.additional.gray[7]},buttons:{display:"flex",flexDirection:"row",marginTop:5*t.generalUnit,"& > *":{textDecoration:"none",marginRight:t.generalUnit}},button:{borderColor:n.additional.gray[8],color:n.additional.gray[8],"&:hover":{borderColor:n.additional.gray[8],backgroundColor:n.additional.gray[8],color:n.common.white.main}}})})),I=function(e){switch(Number(e)){case 1:return"Mainnet";case 3:return"Ropsten";case 4:return"Rinkeby";case 5:return"Goerli";case 6:return"Kotti";case 42:return"Kovan";case 97:return"BSC-Testnet";default:return"Other"}},U=function(e){var t=e.open,n=e.network,a=e.supportedNetworks,o=j();return r.a.createElement(C,{className:o.root,injectedClass:{inner:o.inner},active:t},r.a.createElement("section",null,r.a.createElement(p.ExclamationCircleInverseSvg,{className:o.icon})),r.a.createElement("section",null,r.a.createElement(p.Typography,{className:o.heading,variant:"h3",component:"h3"},"Network Unsupported"),r.a.createElement(p.Typography,{component:"p",variant:"body1"},"This app does not currently support transfers on"," ",I(n),". Please change networks from within your browser wallet."),r.a.createElement("br",null),r.a.createElement(p.Typography,{component:"p",variant:"body1"},"This app is configured to work on"," ",a.map((function(e,t){return"".concat(I(e)).concat(t<a.length-1?", ":"")}))," ","networks"),r.a.createElement("section",{className:o.buttons},r.a.createElement("a",{rel:"noopener noreferrer",href:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_URL,target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_SERVICE)))))},D=function(e){return"".concat(e.substr(0,6),"...").concat(e.substr(e.length-6,6))},_=Object(u.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex;return Object(u.createStyles)({root:{zIndex:null===a||void 0===a?void 0:a.blocker,position:"absolute","& li":{position:"relative",padding:"".concat(t.generalUnit,"px 0 ").concat(t.generalUnit,"px ").concat(8*t.generalUnit,"px"),"&:before":{content:"''",display:"block",backgroundColor:n.additional.gray[2],height:t.generalUnit,width:t.generalUnit,borderRadius:"50%",position:"absolute",top:"50%",left:4*t.generalUnit,transform:"translate(-50%, -50%)"}}},subtitle:{margin:"".concat(2*t.generalUnit,"px 0")},agreement:{margin:"".concat(2*t.generalUnit,"px 0")},startButton:{backgroundColor:n.additional.preflight[1],color:n.additional.preflight[2],marginBottom:2*t.generalUnit},backdrop:{position:"absolute",zIndex:null===a||void 0===a?void 0:a.layer4}})})),B=function(e){var t=e.open,n=e.close,a=e.receiver,o=e.sender,i=e.sourceNetwork,l=e.targetNetwork,c=e.tokenSymbol,s=e.value,d=e.start,u=_();return r.a.createElement(k,{className:u.root,classNames:{backdrop:u.backdrop},size:430,open:t},r.a.createElement(p.Typography,{variant:"h3",component:"h2"},"Pre-flight check"),r.a.createElement(p.Typography,{className:u.subtitle,variant:"h5",component:"p"},"Please be advised this is an experimental application:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"You will not be able to cancel the transaction once you submit it.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Your transaction could get stuck for an indefinite amount of time")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Funds cannot be returned if they are sent to the wrong address.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"The transaction fee may be higher than expected."))),r.a.createElement(p.Typography,{className:u.agreement,variant:"h5",component:"p"},"I agree and want to send"," ",r.a.createElement("strong",null,s," ",c)," ","from\xa0",r.a.createElement("strong",null,D(o))," on"," ",r.a.createElement("strong",null,i)," to\xa0",r.a.createElement("strong",null,D(a))," on"," ",r.a.createElement("strong",null,l),"."),r.a.createElement(p.Button,{onClick:d,className:u.startButton,fullsize:!0},"Start Transfer"),r.a.createElement(p.Button,{onClick:n},"Back"))},R=n(38),P=Object(u.makeStyles)((function(e){var t=e.constants;return Object(u.createStyles)({root:{},input:{margin:0,width:"100%"},label:{marginBottom:t.generalUnit},checkbox:{marginTop:3*t.generalUnit}})})),A=function(e){var t=e.classNames,n=e.senderAddress,o=e.className,i=e.inputVariant,l=void 0===i?"default":i,c=e.type,s=void 0===c?"text":c,d=e.placeholder,u=e.name,m=e.size,f=e.label,b=e.labelClassName,g=e.captionMessage,E=Object(h.a)(e,["classNames","senderAddress","className","inputVariant","type","placeholder","name","size","label","labelClassName","captionMessage"]),k=P(),w=Object(R.useField)(u),x=Object(v.a)(w,3),O=x[0],T=x[1],S=x[2],N=Object(a.useState)(),C=Object(v.a)(N,2),j=C[0],I=C[1],U=Object(a.useCallback)((function(){void 0===j?(I(O.value),S.setValue(n)):(S.setValue(j),I(void 0))}),[S,O,n,j,I]);return r.a.createElement("section",{className:Object(y.default)(k.root,o)},r.a.createElement("div",null,r.a.createElement(p.TextInput,Object.assign({},E,{label:f||O.name,inputVariant:l,type:s,size:m,className:Object(y.default)(null===t||void 0===t?void 0:t.input,k.input),labelClassName:Object(y.default)(b,k.label),name:O.name,value:O.value,placeholder:d,captionMessage:T.error?"".concat(T.error):g&&g,state:T.error?"error":void 0,onChange:S.setValue,disabled:void 0!==j}))),r.a.createElement("div",{className:k.checkbox},r.a.createElement(p.CheckboxInput,{label:"I want to send funds to my address",value:void 0!==j,onChange:function(){return U()}})))},F=n(117),H=n(42),W=n(23),M=n(67),L=n(5),K=n(6),V=n(102),z=function(){function e(){Object(L.a)(this,e)}return Object(K.a)(e,null,[{key:"connect",value:function(e,t){return new V.a(e,G,t)}}]),e}(),G=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"decimals",type:"uint8"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}],q=n(136),Y=n.n(q),$={chains:[{chainId:0,networkId:5,name:"Ethereum - Goerli",bridgeAddress:"0x3965bc100991159C5b516bF79C05153c52998151",erc20HandlerAddress:"0xC8D0d206DaACC8071dF04F7573cFF99D6624aB2B",rpcUrl:"https://goerli.infura.io/v3/b3c59393a14d4a25962be5664b39a1cb",type:"Ethereum",blockExplorer:"https://goerli.etherscan.io/tx",nativeTokenSymbol:"ETH",tokens:[{address:"0xaff4481d10270f50f203e0763e2597776068cbc5",name:"WEENUS",symbol:"WEENUS",imageUri:Y.a,resourceId:"0x0000000000000000000000aff4481d10270f50f203e0763e2597776068cbc505",isNativeWrappedToken:!0},{address:"0x6DCB71a5c05F527Fb6908e6d185d264245a5B9d0",name:"BRIDGE",symbol:"BRIDGE",imageUri:Y.a,resourceId:"0x0000000000000000000000Fe9ad72cF4cd4B8867a708d3a64A994aA7E0C15D97"}]},{chainId:1,networkId:97,name:"BSC - Testnet",bridgeAddress:"0x680C76aF39ea9ccA7b7c295946763F97d99F803a",erc20HandlerAddress:"0x6c4Bf9519eF335CE2eB5e035480a44F7B10e68fe",rpcUrl:"https://data-seed-prebsc-1-s1.binance.org:8545",type:"Ethereum",blockExplorer:"https://testnet.bscscan.com/tx",nativeTokenSymbol:"BNB",tokens:[{address:"0x7fddebe5651ea721aedcad8a52980171f2a6d3ba",name:"Wrapped WEENUS",symbol:"wWEENUS",imageUri:Y.a,resourceId:"0x0000000000000000000000aff4481d10270f50f203e0763e2597776068cbc505"},{address:"0xFe9ad72cF4cd4B8867a708d3a64A994aA7E0C15D",name:"BRIDGE",symbol:"BRIDGE",imageUri:Y.a,resourceId:"0x0000000000000000000000Fe9ad72cF4cd4B8867a708d3a64A994aA7E0C15D97",isNativeWrappedToken:!0}]}]},J=n(73);function X(e,t){switch(t.type){case"addMessage":return[].concat(Object(J.a)(e),[t.payload]);case"resetMessages":return[];default:return e}}var Z=function(){function e(){Object(L.a)(this,e)}return Object(K.a)(e,null,[{key:"connect",value:function(e,t){return new V.a(e,Q,t)}}]),e}(),Q=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}],ee=["0xdac17f958d2ee523a2206206994597c13d831ec7"],te=r.a.createContext(void 0),ne=function(e){var t=e.children,n=Object(O.b)(),o=n.isReady,i=n.network,l=n.provider,c=n.gasPrice,s=n.address,d=n.tokens,u=Object(a.useState)(),p=Object(v.a)(u,2),m=p[0],f=p[1],h=Object(a.useState)(void 0),y=Object(v.a)(h,2),E=y[0],k=y[1],w=Object(a.useState)(),x=Object(v.a)(w,2),T=x[0],S=x[1],N=Object(a.useState)([]),C=Object(v.a)(N,2),j=C[0],I=C[1],U=Object(a.useState)(void 0),D=Object(v.a)(U,2),_=D[0],B=D[1],R=Object(a.useState)(void 0),P=Object(v.a)(R,2),A=P[0],L=P[1],K=Object(a.useState)(void 0),V=Object(v.a)(K,2),G=V[0],q=V[1],Y=Object(a.useState)(void 0),J=Object(v.a)(Y,2),Q=J[0],ne=J[1],ae=Object(a.useState)(void 0),re=Object(v.a)(ae,2),oe=re[0],ie=re[1],le=Object(a.useState)(void 0),ce=Object(v.a)(le,2),se=ce[0],de=ce[1],ue=Object(a.useState)(0),pe=Object(v.a)(ue,2),me=pe[0],fe=pe[1],be=Object(a.useReducer)(X,[]),ge=Object(v.a)(be,2),ve=ge[0],he=ge[1],ye=Object(a.useState)(),Ee=Object(v.a)(ye,2),ke=Ee[0],we=Ee[1],xe=Object(a.useState)(),Oe=Object(v.a)(xe,2),Te=Oe[0],Se=Oe[1],Ne=Object(a.useState)(""),Ce=Object(v.a)(Ne,2),je=Ce[0],Ie=Ce[1],Ue=Object(a.useState)(""),De=Object(v.a)(Ue,2),_e=De[0],Be=De[1],Re=function(){$.chains.length>2&&S(void 0),ie(void 0),de(void 0),fe(0),we(void 0),he({type:"resetMessages"}),Be("")};function Pe(){return(Pe=Object(g.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===l||void 0===l?void 0:l.getSigner(),n={from:s,to:"0x62e7d1ceb828fc958C075321BfD97a477C9bB5D9",value:H.a.utils.parseEther("0").toHexString()},e.prev=2,e.next=5,null===t||void 0===t?void 0:t.sendTransaction(n);case 5:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.confirmations);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",alert("Please wait for cooldown period to be over."));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ae(){return(Ae=Object(g.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("on click"),t=null===l||void 0===l?void 0:l.getSigner(),console.log(t),n={from:s,to:"0xaFF4481D10270F50f203E0763e2597776068CBc5",value:H.a.utils.parseEther("0").toHexString()},e.prev=4,e.t0=console,e.next=8,null===t||void 0===t?void 0:t.sendTransaction(n);case 8:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(4),console.log(e.t2);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}Object(a.useEffect)((function(){if(T){var e;if(null===T||void 0===T?void 0:T.rpcUrl.startsWith("wss")){if(T.rpcUrl.includes("infura")){var t=T.rpcUrl.split("/");e=new H.a.providers.InfuraWebSocketProvider(T.networkId,t[t.length-1])}if(T.rpcUrl.includes("alchemyapi")){var n=T.rpcUrl.split("/");e=new H.a.providers.AlchemyWebSocketProvider(T.networkId,n[n.length-1])}}else e=new H.a.providers.JsonRpcProvider(null===T||void 0===T?void 0:T.rpcUrl);if(e){var a=F.BridgeFactory.connect(null===T||void 0===T?void 0:T.bridgeAddress,e);ne(a)}}}),[T]),Object(a.useEffect)((function(){if(i&&o){var e=$.chains.find((function(e){return e.networkId===i}));if(!e)return f(void 0),B(void 0),q(void 0),void L(void 0);f(e);var t=null===l||void 0===l?void 0:l.getSigner();if(!t)return void console.log("No signer");var n=F.BridgeFactory.connect(e.bridgeAddress,t);if(B(n),I($.chains.filter((function(e){return e.networkId!==i}))),2===$.chains.length){var a=$.chains.find((function(e){return e.networkId!==i}));a&&S(a)}var r=e.tokens.find((function(e){return e.isNativeWrappedToken}));if(r){q(r);var c=Z.connect(r.address,t);L(c)}else q(void 0),L(void 0)}else f(void 0),q(void 0),L(void 0);Re()}),[o,i,l]),Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=7;break}return e.t0=W.a,e.next=4,_._relayerThreshold();case 4:e.t1=e.sent,t=e.t0.from.call(e.t0,e.t1).toNumber(),k(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=9;break}return e.t0=Number,e.t1=M.utils,e.next=5,_._fee();case 5:e.t2=e.sent,e.t3=e.t1.formatEther.call(e.t1,e.t2),t=(0,e.t0)(e.t3),Se(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[_]),Object(a.useEffect)((function(){return m&&Q&&se&&(Q.on(Q.filters.ProposalEvent(m.chainId,W.a.from(se),null,null,null),(function(e,t,n,a,r,o){switch(W.a.from(n).toNumber()){case 1:he({type:"addMessage",payload:"Proposal created on ".concat(null===T||void 0===T?void 0:T.name)});break;case 2:he({type:"addMessage",payload:"Proposal has passed. Executing..."});break;case 3:ie("Transfer Completed"),Ie(o.transactionHash);break;case 4:ie("Transfer Aborted"),Ie(o.transactionHash)}})),Q.on(Q.filters.ProposalVote(m.chainId,W.a.from(se),null,null),function(){var e=Object(g.a)(b.a.mark((function e(t,n,a,r,o){var i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getTransactionReceipt();case 2:1===(i=e.sent).status&&fe(me+1),he({type:"addMessage",payload:{address:String(i.from),signed:1===i.status?"Confirmed":"Rejected"}});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}())),function(){null===Q||void 0===Q||Q.removeAllListeners()}}),[se,m,Q,me,T,ve]);var Fe=function(){var e=Object(g.a)(b.a.mark((function e(t,n,a){var r,o,i,u,p,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&m){e.next=3;break}return console.log("Home bridge contract is not instantiated"),e.abrupt("return");case 3:if(T&&Q){e.next=6;break}return console.log("Destination bridge contract is not instantiated"),e.abrupt("return");case 6:if(r=null===l||void 0===l?void 0:l.getSigner(),s&&r){e.next=10;break}return console.log("No signer"),e.abrupt("return");case 10:if(o=m.tokens.find((function(e){return e.address===a}))){e.next=14;break}return console.log("Invalid token selected"),e.abrupt("return");case 14:return ie("Initializing Transfer"),we(t),Be(a),i=z.connect(a,r),u=d[a].decimals,p="0x"+M.utils.hexZeroPad(W.a.from(M.utils.parseUnits(t.toString(),u)).toHexString(),32).substr(2)+M.utils.hexZeroPad(M.utils.hexlify((n.length-2)/2),32).substr(2)+n.substr(2),e.prev=20,e.next=23,i.allowance(s,m.erc20HandlerAddress);case 23:if(f=e.sent,!(Number(M.utils.formatUnits(f,u))<t)){e.next=34;break}if(!(Number(M.utils.formatUnits(f,u))>0&&ee.includes(a))){e.next=30;break}return e.next=28,i.approve(m.erc20HandlerAddress,W.a.from(M.utils.parseUnits("0",u)),{gasPrice:W.a.from(M.utils.parseUnits((m.defaultGasPrice||c).toString(),9)).toString()});case 28:return e.next=30,e.sent.wait(1);case 30:return e.next=32,i.approve(m.erc20HandlerAddress,W.a.from(M.utils.parseUnits(t.toString(),u)),{gasPrice:W.a.from(M.utils.parseUnits((m.defaultGasPrice||c).toString(),9)).toString()});case 32:return e.next=34,e.sent.wait(1);case 34:return _.once(_.filters.Deposit(T.chainId,o.resourceId,null),(function(e,t,n){de("".concat(n.toString())),ie("In Transit")})),e.next=37,_.deposit(T.chainId,o.resourceId,p,{gasPrice:M.utils.parseUnits((m.defaultGasPrice||c).toString(),9),value:M.utils.parseUnits((Te||0).toString(),18)});case 37:return e.next=39,e.sent.wait();case 39:return e.abrupt("return",Promise.resolve());case 42:return e.prev=42,e.t0=e.catch(20),console.log(e.t0),ie("Transfer Aborted"),e.abrupt("return",Promise.reject());case 47:case"end":return e.stop()}}),e,null,[[20,42]])})));return function(t,n,a){return e.apply(this,arguments)}}();return r.a.createElement(te.Provider,{value:{homeChain:m,destinationChain:T,destinationChains:j.map((function(e){return{chainId:e.chainId,name:e.name}})),setDestinationChain:function(e){var t=j.find((function(t){return t.chainId===e}));if(!t)throw new Error("Invalid destination chain selected");S(t)},deposit:Fe,resetDeposit:Re,depositVotes:me,relayerThreshold:E,depositNonce:se,bridgeFee:Te,transactionStatus:oe,inTransitMessages:ve,depositAmount:ke,transferTxHash:je,selectedToken:_e,wrapToken:null===A||void 0===A?void 0:A.deposit,wrapTokenConfig:G,unwrapToken:null===A||void 0===A?void 0:A.withdraw,getTestnetBridge:function(){return Pe.apply(this,arguments)},getTestnetWeenus:function(){return Ae.apply(this,arguments)}}},t)},ae=function(){var e=Object(a.useContext)(te);if(void 0===e)throw new Error("useChainbridge must be called within a DriveProvider");return e},re=Object(u.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette,r=e.typography;return Object(u.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",display:"flex",flexDirection:"row",padding:"".concat(5*n.generalUnit,"px ").concat(3.5*n.generalUnit,"px"),bottom:0,top:"unset",transform:"unset",left:0,border:"none",borderRadius:0,transitionDuration:"".concat(t.transform,"ms")},heading:{marginBottom:n.generalUnit,whiteSpace:"nowrap"},stepIndicator:Object(c.a)(Object(c.a)({},r.h4),{},{height:40,width:40,marginRight:2*n.generalUnit,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid ".concat(a.additional.transactionModal[2]),color:a.additional.transactionModal[3],"& svg":{height:20,width:20,display:"block"}}),content:{display:"flex",flexDirection:"column"},buttons:{display:"flex",flexDirection:"row",marginTop:5*n.generalUnit,"& > *":{textDecoration:"none",marginRight:n.generalUnit}},button:{borderColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.additional.gray[8]," !important"),textDecoration:"none","&:hover":{borderColor:"".concat(a.additional.gray[8]," !important"),backgroundColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.common.white.main," !important"),textDecoration:"none"}},initCopy:{display:"flex",flexDirection:"column",justifyContent:"space-between","& > *:first-child":{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit}},sendingCopy:{},vote:{display:"flex",flexDirection:"row",marginTop:n.generalUnit,"& > *":{"&:first-child":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:240},"&:last-child":{marginLeft:3.5*n.generalUnit,fontStyle:"italic"}}},warning:{marginTop:3.5*n.generalUnit,display:"block",fontWeight:600},receipt:{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit},weighted:{fontWeight:600},progress:{position:"absolute",top:0,left:0,width:"100%","& > *":{borderRadius:"0 !important","&  >  *":{borderRadius:"0 !important",background:"".concat(a.additional.transactionModal[1]," !important")}}}})})),oe=function(e){var t,n=e.open,a=e.close,o=re(),i=ae(),l=i.transactionStatus,c=i.depositVotes,s=i.relayerThreshold,d=i.inTransitMessages,u=i.homeChain,m=i.destinationChain,f=i.depositAmount,b=i.transferTxHash,g=i.selectedToken,v=Object(O.b)().tokens,h=g&&(null===(t=v[g])||void 0===t?void 0:t.symbol);return r.a.createElement(C,{className:o.root,injectedClass:{inner:o.inner},active:n},r.a.createElement(p.ProgressBar,{className:o.progress,size:"small",variant:"primary",progress:"Transfer Completed"!==l?-1:100}),r.a.createElement("section",null,r.a.createElement("div",{className:o.stepIndicator},"Initializing Transfer"===l?"1":"In Transit"===l?"2":"Transfer Completed"===l?"3":r.a.createElement(p.ExclamationCircleSvg,null))),r.a.createElement("section",{className:o.content},r.a.createElement(p.Typography,{className:o.heading,variant:"h3",component:"h3"},"Initializing Transfer"===l?"Initializing Transfer":"In Transit"===l?"In Transit (".concat(c<(s||0)?"".concat(c,"/").concat(s," signatures needed"):"Executing proposal",")"):"Transfer Completed"===l?"Transfer completed":"Transfer aborted"),"Initializing Transfer"===l?r.a.createElement("div",{className:o.initCopy},r.a.createElement(p.Typography,null,"Deposit pending..."),r.a.createElement(p.Typography,{className:o.weighted},"This should take a few minutes.",r.a.createElement("br",null),"Please do not refresh or leave the page.")):"In Transit"===l?r.a.createElement("div",{className:o.sendingCopy},d.map((function(e,t){return"string"===typeof e?r.a.createElement(p.Typography,{className:o.vote,component:"p",key:t},e):r.a.createElement(p.Typography,{className:o.vote,component:"p",key:t},r.a.createElement("span",null,"Vote casted by ",e.address),r.a.createElement("span",null,e.signed))})),r.a.createElement(p.Typography,{className:o.warning},"This should take a few minutes. ",r.a.createElement("br",null),"Please do not refresh or leave the page.")):"Transfer Completed"===l?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:o.receipt,component:"p"},"Successfully transferred"," ",r.a.createElement("strong",null,f," ",h,r.a.createElement("br",null)," from ",null===u||void 0===u?void 0:u.name," to ",null===m||void 0===m?void 0:m.name,".")),r.a.createElement("section",{className:o.buttons},r.a.createElement(p.Button,{onClick:function(){return m&&m.blockExplorer&&b&&window.open("".concat(m.blockExplorer,"/").concat(b),"_blank")},size:"small",className:o.button,variant:"outline"},"View transaction"),r.a.createElement(p.Button,{size:"small",className:o.button,variant:"outline",onClick:a},"Start new transfer"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:o.receipt,component:"p"},"Something went wrong and we could not complete your transfer."),u&&u.blockExplorer&&b&&r.a.createElement(p.Button,{onClick:function(){return window.open("".concat(null===u||void 0===u?void 0:u.blockExplorer,"/").concat(b),"_blank")},size:"small",className:o.button,variant:"outline",disabled:!0},"View transaction"),r.a.createElement("section",{className:o.buttons},r.a.createElement(p.Button,{size:"small",className:o.button,variant:"outline",onClick:a},"Start new transfer"),r.a.createElement("a",{rel:"noopener noreferrer",href:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_URL,target:"_blank"},r.a.createElement(p.Button,{variant:"outline"},"Ask a question on ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SUPPORT_SERVICE))))))},ie=function(e){var t,n,o=e.className,i=e.label,l=e.name,c=e.tokens,s=e.sync,d=Object(h.a)(e,["className","label","name","tokens","sync"]),u=Object(R.useField)(l),m=Object(v.a)(u,1)[0],f=c[m.value]?"".concat(i," ").concat(null===(t=c[m.value])||void 0===t?void 0:t.balance," ").concat(null===(n=c[m.value])||void 0===n?void 0:n.symbol):"Please select token",b=Object(a.useState)(),g=Object(v.a)(b,2),y=g[0],E=g[1];return Object(a.useEffect)((function(){s&&m.value!==y&&(E(m.value),""!==m.value&&s(m.value))}),[m]),r.a.createElement(p.FormikSelectInput,Object.assign({name:l,className:o,label:f},d))},le=function(e){var t=e.classNames,n=e.disabled,a=e.label,o=e.tokens,i=e.tokenSelectorKey,l=e.name,c=Object(R.useField)(l),s=Object(v.a)(c,3)[2],d=Object(R.useFormikContext)().values;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.FormikTextInput,{className:null===t||void 0===t?void 0:t.input,disabled:n,name:l,label:a}),r.a.createElement(p.Button,{disabled:n||!o[d[i]],className:null===t||void 0===t?void 0:t.button,onClick:function(){s.setValue(o[d[i]].balance)},variant:"outline",type:"button"},"MAX"))},ce=n(89),se=function(e){var t,n=e.className,a=e.symbol,o=e.fee,i=e.feeSymbol,l=e.amountFormikName,c=Object(R.useFormikContext)().values;return r.a.createElement("section",{className:n},void 0!==o&&void 0!==i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{component:"p"},"Bridge Fee"),r.a.createElement(p.Typography,{component:"p"},o," ",i)),void 0!==a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{component:"p"},"Transfer Amount:"),r.a.createElement(p.Typography,{component:"p"},null===(t=Number(c[l]))||void 0===t?void 0:t.toFixed(3)," ",a)))},de=n(162);function ue(){var e=Object(m.a)(["\ntext-align: center;\nfont-size: 3rem;\ncolor: #FFB014;\npadding: 1rem;\n"]);return ue=function(){return e},e}var pe=Object(u.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(u.createStyles)({root:{padding:6*t.generalUnit,position:"relative"},walletArea:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},connectButton:{margin:"".concat(3*t.generalUnit,"px 0 ").concat(6*t.generalUnit,"px")},connecting:{textAlign:"center",marginBottom:2*t.generalUnit},connected:{width:"100%","& > *:first-child":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"}},changeButton:{cursor:"pointer"},networkName:{padding:"".concat(2*t.generalUnit,"px ").concat(1.5*t.generalUnit,"px"),border:"1px solid ".concat(n.additional.gray[6]),borderRadius:2,color:n.additional.gray[9],marginTop:t.generalUnit,marginBottom:3*t.generalUnit},formArea:{"&.disabled":{opacity:.4}},currencySection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",margin:"".concat(3*t.generalUnit,"px 0")},tokenInputArea:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-around",paddingRight:t.generalUnit},tokenInput:{margin:0,"& > div":{height:32,"& input":{borderBottomRightRadius:0,borderTopRightRadius:0,borderRight:0}},"& span:last-child.error":{position:"absolute"}},maxButton:{height:32,borderBottomLeftRadius:0,borderTopLeftRadius:0,left:-1,color:n.additional.gray[8],backgroundColor:n.additional.gray[3],borderColor:n.additional.gray[6],"&:hover":{borderColor:n.additional.gray[6],backgroundColor:n.additional.gray[7],color:n.common.white.main},"&:focus":{borderColor:n.additional.gray[6]}},currencySelector:{width:120,"& *":{cursor:"pointer"}},token:{},address:{margin:0,marginBottom:3*t.generalUnit},addressInput:{},generalInput:{"& > span":{marginBottom:t.generalUnit}},faqButton:{cursor:"pointer",height:20,width:20,marginTop:5*t.generalUnit,fill:"".concat(n.additional.transferUi[1]," !important")},tokenItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer","& img, & svg":{display:"block",height:14,width:14,marginRight:10},"& span":{minWidth:"calc(100% - 30px)",textAlign:"right"}},fees:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:t.generalUnit,"& > *":{display:"block",width:"50%",color:n.additional.gray[8],marginBottom:t.generalUnit/2,"&:nth-child(even)":{textAlign:"right"}}}})})),me=de.a.h2(ue()),fe=function(){var e=pe(),t=Object(O.b)(),n=t.isReady,o=t.checkIsReady,i=t.wallet,l=t.onboard,s=t.tokens,d=t.address,u=t.network,m=ae(),f=m.homeChain,h=m.destinationChains,E=m.destinationChain,k=m.deposit,w=m.setDestinationChain,T=m.transactionStatus,N=m.resetDeposit,C=m.bridgeFee,j=Object(a.useState)(!1),I=Object(v.a)(j,2),D=I[0],_=I[1],P=Object(a.useState)(!1),F=Object(v.a)(P,2),H=F[0],W=F[1],L=Object(a.useState)(!1),K=Object(v.a)(L,2),V=K[0],z=K[1],G=Object(a.useState)(!1),q=Object(v.a)(G,2),Y=q[0],J=q[1],X=Object(a.useState)({receiver:"",token:"",tokenAmount:0,tokenSymbol:""}),Z=Object(v.a)(X,2),Q=Z[0],ee=Z[1],te=function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W(!0),e.t0=!i,!e.t0){e.next=5;break}return e.next=5,null===l||void 0===l?void 0:l.walletSelect();case 5:return e.next=7,o();case 7:W(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=Q&&s[Q.token]?s[Q.token].decimals:18,re=ne>0?new RegExp("^[0-9]{1,18}(.[0-9]{1,".concat(ne,"})?$")):new RegExp("^[0-9]{1,18}?$"),de=Object(ce.a)().shape({tokenAmount:Object(ce.b)().test("Token selected","Please select a token",(function(e){return!!(e&&Q&&s[Q.token]&&void 0!==s[Q.token].balance)})).test("InputValid","Input invalid",(function(e){try{return re.test("".concat(e))}catch(t){return console.error(t),!1}})).test("Max","Insufficent funds",(function(e){return!!(e&&Q&&s[Q.token]&&s[Q.token].balance)&&parseFloat(e)<=s[Q.token].balance})).test("Min","Less than minimum",(function(e){return!!e&&parseFloat(e)>0})).required("Please set a value"),token:Object(ce.b)().required("Please select a token"),receiver:Object(ce.b)().test("Valid address","Please add a valid address",(function(e){return M.utils.isAddress(e)})).required("Please add a receiving address")});return r.a.createElement("article",{className:e.root},r.a.createElement(me,null,"Multibridge"),r.a.createElement("div",{className:e.walletArea},n?H?r.a.createElement("section",{className:e.connecting},r.a.createElement(p.Typography,{component:"p",variant:"h5"},"This app requires access to your wallet, ",r.a.createElement("br",null),"please login and authorize access to continue.")):r.a.createElement("section",{className:e.connected},r.a.createElement("div",null,r.a.createElement(p.Typography,{variant:"body1"},"Home network"),r.a.createElement(p.Typography,{className:e.changeButton,variant:"body1",onClick:function(){return z(!0)}},"Change")),r.a.createElement(p.Typography,{component:"h2",variant:"h2",className:e.networkName},null===f||void 0===f?void 0:f.name)):r.a.createElement(p.Button,{className:e.connectButton,fullsize:!0,onClick:function(){te()}},"Connect Metamask")),r.a.createElement(R.Formik,{initialValues:{tokenAmount:0,token:"",receiver:""},validateOnChange:!1,validationSchema:de,onSubmit:function(e){ee(Object(c.a)(Object(c.a)({},e),{},{tokenSymbol:s[e.token].symbol||""})),J(!0)}},r.a.createElement(R.Form,{className:Object(y.default)(e.formArea,{disabled:!f})},r.a.createElement("section",null,r.a.createElement(p.SelectInput,{label:"Destination Network",className:e.generalInput,disabled:!f,options:h.map((function(e){return{label:e.name,value:e.chainId}})),onChange:function(e){return w(e)},value:null===E||void 0===E?void 0:E.chainId})),r.a.createElement("section",{className:e.currencySection},r.a.createElement("section",null,r.a.createElement("div",{className:Object(y.default)(e.tokenInputArea,e.generalInput)},r.a.createElement(le,{classNames:{input:Object(y.default)(e.tokenInput,e.generalInput),button:e.maxButton},tokenSelectorKey:"token",tokens:s,disabled:!E||!Q.token||""===Q.token,name:"tokenAmount",label:"I want to send"}))),r.a.createElement("section",{className:e.currencySelector},r.a.createElement(ie,{tokens:s,name:"token",disabled:!E,label:"Balance: ",className:e.generalInput,placeholder:"",sync:function(e){ee(Object(c.a)(Object(c.a)({},Q),{},{token:e,receiver:"",tokenAmount:0,tokenSymbol:""}))},options:Object.keys(s).map((function(t){var n,a,o,i;return{value:t,label:r.a.createElement("div",{className:e.tokenItem},(null===(n=s[t])||void 0===n?void 0:n.imageUri)&&r.a.createElement("img",{src:null===(a=s[t])||void 0===a?void 0:a.imageUri,alt:null===(o=s[t])||void 0===o?void 0:o.symbol}),r.a.createElement("span",null,(null===(i=s[t])||void 0===i?void 0:i.symbol)||t))}}))||[]}))),r.a.createElement("section",null,r.a.createElement(A,{disabled:!E,name:"receiver",label:"Destination Address",placeholder:"Please enter the receiving address",className:e.address,classNames:{input:e.addressInput},senderAddress:"".concat(d)})),r.a.createElement(se,{amountFormikName:"tokenAmount",className:e.fees,fee:C,feeSymbol:null===f||void 0===f?void 0:f.nativeTokenSymbol,symbol:Q&&s[Q.token]?s[Q.token].symbol:void 0}),r.a.createElement("section",null,r.a.createElement(p.Button,{type:"submit",fullsize:!0,variant:"primary"},"Start transfer")))),r.a.createElement(x,{open:D,close:function(){return _(!1)}}),r.a.createElement(S,{open:V,close:function(){return z(!1)}}),r.a.createElement(U,{open:!f&&n,network:u,supportedNetworks:$.chains.map((function(e){return e.networkId}))}),r.a.createElement(B,{open:Y,close:function(){return J(!1)},receiver:(null===Q||void 0===Q?void 0:Q.receiver)||"",sender:d||"",start:function(){J(!1),Q&&k(Q.tokenAmount,Q.receiver,Q.token)},sourceNetwork:(null===f||void 0===f?void 0:f.name)||"",targetNetwork:(null===E||void 0===E?void 0:E.name)||"",tokenSymbol:(null===Q||void 0===Q?void 0:Q.tokenSymbol)||"",value:(null===Q||void 0===Q?void 0:Q.tokenAmount)||0}),r.a.createElement(oe,{open:!!T,close:N}))};function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ve=r.a.createElement("g",null,r.a.createElement("polygon",{fill:"#343434",points:"127.9611 0 125.1661 9.5 125.1661 285.168 127.9611 287.958 255.9231 212.32"}),r.a.createElement("polygon",{fill:"#8C8C8C",points:"127.962 0 0 212.32 127.962 287.959 127.962 154.158"}),r.a.createElement("polygon",{fill:"#3C3C3B",points:"127.9611 312.1866 126.3861 314.1066 126.3861 412.3056 127.9611 416.9066 255.9991 236.5866"}),r.a.createElement("polygon",{fill:"#8C8C8C",points:"127.962 416.9052 127.962 312.1852 0 236.5852"}),r.a.createElement("polygon",{fill:"#141414",points:"127.9611 287.9577 255.9211 212.3207 127.9611 154.1587"}),r.a.createElement("polygon",{fill:"#393939",points:"0.0009 212.3208 127.9609 287.9578 127.9609 154.1588"})),he=function(e){var t=e.svgRef,n=e.title,a=ge(e,["svgRef","title"]);return r.a.createElement("svg",be({viewBox:"0 0 256 417",preserveAspectRatio:"xMidYMid",ref:t},a),n?r.a.createElement("title",null,n):null,ve)},ye=r.a.forwardRef((function(e,t){return r.a.createElement(he,be({svgRef:t},e))})),Ee=(n.p,Object(u.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex;return Object(u.createStyles)({root:{position:"absolute",zIndex:null===a||void 0===a?void 0:a.blocker,"& li":{position:"relative",padding:"".concat(t.generalUnit,"px 0 ").concat(t.generalUnit,"px ").concat(8*t.generalUnit,"px"),"&:before":{content:"''",display:"block",backgroundColor:n.additional.gray[2],height:t.generalUnit,width:t.generalUnit,borderRadius:"50%",position:"absolute",top:"50%",left:4*t.generalUnit,transform:"translate(-50%, -50%)"}}},subtitle:{margin:"".concat(2*t.generalUnit,"px 0")},agreement:{margin:"".concat(2*t.generalUnit,"px 0")},startButton:{backgroundColor:n.additional.preflight[1],color:n.additional.preflight[2],marginBottom:2*t.generalUnit},backdrop:{position:"absolute",zIndex:null===a||void 0===a?void 0:a.layer4}})}))),ke=function(e){var t=e.open,n=e.close,a=(e.sender,e.sourceNetwork),o=e.tokenSymbol,i=e.value,l=e.start,c=e.wrappedTitle,s=e.action,d=Ee();return r.a.createElement(k,{classNames:{backdrop:d.backdrop},size:430,open:t,className:d.root},r.a.createElement(p.Typography,{variant:"h3",component:"h2"},"Pre-flight check"),r.a.createElement(p.Typography,{className:d.subtitle,variant:"h5",component:"p"},"Please be advised this is an experimental application:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"You will not be able to cancel the transaction once you submit it.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Your transaction could get stuck for an indefinite amount of time")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"Funds cannot be returned if they are sent to the wrong address.")),r.a.createElement("li",null,r.a.createElement(p.Typography,{variant:"h5"},"The transaction fee may be higher than expected."))),r.a.createElement(p.Typography,{className:d.agreement,variant:"h5",component:"p"},"I agree and want to convert"," ",r.a.createElement("strong",null,i," ",o)," ","on ",r.a.createElement("strong",null,a)," to\xa0",r.a.createElement("strong",null,c)),r.a.createElement(p.Button,{onClick:l,className:d.startButton,fullsize:!0},"Convert to ","wrap"===s?"Wrapped":"Native"," Token"),r.a.createElement(p.Button,{onClick:n},"Back"))},we=Object(u.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette,r=e.typography;return Object(u.createStyles)({root:{width:"100%"},inner:{width:"100% !important",maxWidth:"unset !important",display:"flex",flexDirection:"row",padding:"".concat(5*n.generalUnit,"px ").concat(3.5*n.generalUnit,"px"),bottom:0,top:"unset",transform:"unset",left:0,border:"none",borderRadius:0,transitionDuration:"".concat(t.transform,"ms")},heading:{whiteSpace:"nowrap",marginTop:n.generalUnit/2},stepIndicator:Object(c.a)(Object(c.a)({},r.h4),{},{height:40,width:40,marginRight:2*n.generalUnit,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid ".concat(a.additional.transactionModal[2]),color:a.additional.transactionModal[3],"& svg":{height:20,width:20,display:"block"}}),content:{display:"flex",flexDirection:"column"},buttons:{display:"flex",flexDirection:"row",marginTop:5*n.generalUnit,"& > *":{textDecoration:"none",marginRight:n.generalUnit}},button:{borderColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.additional.gray[8]," !important"),textDecoration:"none","&:hover":{borderColor:"".concat(a.additional.gray[8]," !important"),backgroundColor:"".concat(a.additional.gray[8]," !important"),color:"".concat(a.common.white.main," !important"),textDecoration:"none"}},initCopy:{display:"flex",flexDirection:"column",justifyContent:"space-between","& > *:first-child":{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit}},sendingCopy:{},vote:{display:"flex",flexDirection:"row",marginTop:n.generalUnit,"& > *":{"&:first-child":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:240},"&:last-child":{marginLeft:3.5*n.generalUnit,fontStyle:"italic"}}},warning:{marginTop:3.5*n.generalUnit,display:"block",fontWeight:600},receipt:{marginTop:3.5*n.generalUnit,marginBottom:8*n.generalUnit},weighted:{fontWeight:600},progress:{position:"absolute",top:0,left:0,width:"100%","& > *":{borderRadius:"0 !important","&  >  *":{borderRadius:"0 !important",background:"".concat(a.additional.transactionModal[1]," !important")}}}})})),xe=function(e){var t=e.txState,n=e.value,a=e.tokenInfo,o=e.txHash,i=e.close,l=e.action,c=we(),s=ae().homeChain;return r.a.createElement(C,{className:c.root,injectedClass:{inner:c.inner},active:!!t},r.a.createElement(p.ProgressBar,{className:c.progress,size:"small",variant:"primary",progress:"done"!==t?-1:100}),r.a.createElement("section",null,r.a.createElement("div",{className:c.stepIndicator},"inProgress"===t?1:2)),r.a.createElement("section",{className:c.content},r.a.createElement(p.Typography,{className:c.heading,variant:"h3",component:"h3"},"inProgress"===t?"wrap"===l?"Wrapping ".concat(n," ").concat(null===s||void 0===s?void 0:s.nativeTokenSymbol):"Unwrapping ".concat(n," ").concat(a.symbol):"wrap"===l?"Token wrapped":"Token unwrapped"),"inProgress"!==t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:c.receipt,component:"p"},"wrap"===l?"Successfully wrapped ".concat(null===s||void 0===s?void 0:s.nativeTokenSymbol," to ").concat(a.symbol):"Successfully unwrapped ".concat(a.symbol," to ").concat(null===s||void 0===s?void 0:s.nativeTokenSymbol),s&&s.blockExplorer&&o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"".concat(s.blockExplorer,"/").concat(o)},"View Transaction"))),r.a.createElement("section",{className:c.buttons},r.a.createElement(p.Button,{size:"small",className:c.button,variant:"outline",onClick:function(){return i()}},"Start a transfer"),r.a.createElement(p.Button,{size:"small",className:c.button,variant:"outline",onClick:function(){i()}},"Close Window")))))},Oe=n(188),Te=n(223).a();var Se,Ne=function(e){var t=e.classNames,n=e.disabled,a=e.label,o=e.name,i=e.max,l=Object(R.useField)(o),c=Object(v.a)(l,3)[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.FormikTextInput,{className:null===t||void 0===t?void 0:t.input,disabled:n,name:o,label:a}),r.a.createElement(p.Button,{disabled:n||!i,className:null===t||void 0===t?void 0:t.button,onClick:function(){c.setValue(i)},variant:"outline",type:"button"},"MAX"))},Ce=Object(u.makeStyles)((function(e){var t=e.constants,n=e.palette;return Object(u.createStyles)({root:{minHeight:69*t.generalUnit,padding:6*t.generalUnit,overflow:"hidden",position:"relative"},walletArea:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},blurb:{color:n.common.black.main},connectButton:{margin:"".concat(3*t.generalUnit,"px 0 ").concat(6*t.generalUnit,"px")},connecting:{textAlign:"center",marginBottom:2*t.generalUnit},connected:{width:"100%","& > *:first-child":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"}},changeButton:{cursor:"pointer"},networkName:{padding:"".concat(2*t.generalUnit,"px ").concat(1.5*t.generalUnit,"px"),border:"1px solid ".concat(n.additional.gray[6]),borderRadius:2,color:n.additional.gray[9],marginTop:t.generalUnit,marginBottom:3*t.generalUnit},formArea:{"&.disabled":{opacity:.4}},currencySection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",margin:"".concat(3*t.generalUnit,"px 0")},tokenInputArea:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-around",paddingRight:t.generalUnit},tokenInput:{margin:0,"& > div":{height:32,"& input":{borderBottomRightRadius:0,borderTopRightRadius:0,borderRight:0}},"& span:last-child.error":{position:"absolute"}},maxButton:{height:32,borderBottomLeftRadius:0,borderTopLeftRadius:0,left:-1,color:n.additional.gray[8],backgroundColor:n.additional.gray[3],borderColor:n.additional.gray[6],"&:hover":{borderColor:n.additional.gray[6],backgroundColor:n.additional.gray[7],color:n.common.white.main},"&:focus":{borderColor:n.additional.gray[6]}},tokenIndicator:{width:120,textAlign:"right","& p":{marginBottom:t.generalUnit},"& *":{cursor:"pointer"}},generalInput:{"& > span":{marginBottom:t.generalUnit}},faqButton:{cursor:"pointer",height:20,width:20,marginTop:5*t.generalUnit,fill:"".concat(n.additional.transferUi[1]," !important")},token:{backgroundColor:n.additional.gray[1],borderRadius:2,border:"1px solid ".concat(n.additional.gray[6]),padding:"".concat(1*t.generalUnit,"px ").concat(1.5*t.generalUnit,"px"),display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer",height:4*t.generalUnit,"& img, & svg":{display:"block",height:14,width:14,marginLeft:10},"& span":{minWidth:"calc(100% - 30px)",textAlign:"right",color:n.additional.gray[9]}},tokenItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer","& img, & svg":{display:"block",height:14,width:14,marginRight:10},"& span":{minWidth:"calc(100% - 30px)",textAlign:"right"}},submitButtonArea:{}})})),je=function(){var e,t=Ce(),n=Object(O.b)(),o=n.isReady,i=n.checkIsReady,l=n.wallet,s=n.onboard,d=n.tokens,u=n.ethBalance,m=n.network,f=n.address,h=n.gasPrice,E=ae(),k=E.homeChain,w=E.wrapTokenConfig,T=E.wrapToken,N=E.unwrapToken,C=Object(a.useState)(!1),j=Object(v.a)(C,2),I=j[0],D=j[1],_=Object(a.useState)(!1),B=Object(v.a)(_,2),P=B[0],A=B[1],F=Object(a.useState)(!1),H=Object(v.a)(F,2),L=H[0],K=H[1],V=Object(a.useState)(!1),z=Object(v.a)(V,2),G=z[0],q=z[1],Y=Object(a.useState)({tokenAmount:0}),J=Object(v.a)(Y,2),X=J[0],Z=J[1],Q=Object(a.useState)("wrap"),ee=Object(v.a)(Q,2),te=ee[0],ne=ee[1],re=Object(a.useState)(void 0),oe=Object(v.a)(re,2),ie=oe[0],le=oe[1],se=function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),e.t0=!l,!e.t0){e.next=5;break}return e.next=5,null===s||void 0===s?void 0:s.walletSelect();case 5:return e.next=7,i();case 7:A(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&T&&k){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,le({tokenInfo:w,value:X.tokenAmount,txState:"inProgress",action:te}),e.next=6,T({value:Object(Oe.parseUnits)("".concat(X.tokenAmount),pe),gasPrice:W.a.from(M.utils.parseUnits((k.defaultGasPrice||h).toString(),9)).toString()});case 6:return t=e.sent,e.next=9,null===t||void 0===t?void 0:t.wait();case 9:le({tokenInfo:w,value:X.tokenAmount,txHash:null===t||void 0===t?void 0:t.hash,txState:"done",action:te}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&N&&k){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,le({tokenInfo:w,value:X.tokenAmount,txState:"inProgress",action:te}),e.next=6,N(Object(Oe.parseUnits)("".concat(X.tokenAmount),pe),{gasPrice:M.utils.parseUnits((k.defaultGasPrice||h).toString(),9).toString()});case 6:return t=e.sent,e.next=9,null===t||void 0===t?void 0:t.wait();case 9:le({tokenInfo:w,value:X.tokenAmount,txHash:null===t||void 0===t?void 0:t.hash,txState:"done",action:te}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),pe=18,me=pe>0?new RegExp("^[0-9]{1,18}(.[0-9]{1,".concat(pe,"})?$")):new RegExp("^[0-9]{1,18}?$"),fe=Object(ce.a)().shape({tokenAmount:Object(ce.b)().matches(me,"Input invalid").test("Min","Less than minimum",(function(e){return!!e&&parseFloat(e)>0})).test("Max","Insufficent funds",(function(e){var t;return"wrap"===te?!!(u&&e&&parseFloat(e)<=u):!!(d[(null===w||void 0===w?void 0:w.address)||"0x"].balance&&e&&parseFloat(e)<=(null===(t=d[(null===w||void 0===w?void 0:w.address)||"0x"])||void 0===t?void 0:t.balance))})).required("Please set a value")});return r.a.createElement("article",{className:t.root},r.a.createElement("div",{className:t.walletArea},o?P?r.a.createElement("section",{className:t.connecting},r.a.createElement(p.Typography,{component:"p",variant:"h5"},"This app requires access to your wallet, ",r.a.createElement("br",null),"please login and authorize access to continue.")):r.a.createElement("section",{className:t.connected},r.a.createElement("div",null,r.a.createElement(p.Typography,{variant:"body1"},"Home network"),r.a.createElement(p.Typography,{className:t.changeButton,variant:"body1",onClick:function(){return K(!0)}},"Change")),r.a.createElement(p.Typography,{component:"h2",variant:"h2",className:t.networkName},null===k||void 0===k?void 0:k.name)):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Typography,{className:t.blurb,component:"p",variant:"h5"},"To convert a token that needs to be wrapped, please connect to the network that the token exists natively for. For example, to convert ETH into wrapped ETH (WETH), your wallet must be connected to an Ethereum network."),r.a.createElement(p.Button,{className:t.connectButton,fullsize:!0,onClick:function(){se()}},"Connect Metamask"))),r.a.createElement(R.Formik,{initialValues:{tokenAmount:0},validationSchema:fe,validateOnChange:!1,onSubmit:function(e){Z(Object(c.a)({},e)),q(!0)}},r.a.createElement(R.Form,{className:Object(y.default)(t.formArea,{disabled:!k})},r.a.createElement("section",{className:t.currencySection},r.a.createElement("section",null,r.a.createElement("div",{className:Object(y.default)(t.tokenInputArea,t.generalInput)},r.a.createElement(Ne,{classNames:{input:Object(y.default)(t.tokenInput,t.generalInput),button:t.maxButton},name:"tokenAmount",label:"I want to convert",max:"wrap"===te?u:null===(e=d[(null===w||void 0===w?void 0:w.address)||"0x"])||void 0===e?void 0:e.balance}))),r.a.createElement("section",{className:t.tokenIndicator},r.a.createElement(p.Typography,{component:"p"},"Balance:"," ","wrap"===te?u?u.toFixed(2):0:d[(null===w||void 0===w?void 0:w.address)||"0x"].balance),r.a.createElement(p.SelectInput,{options:[{label:r.a.createElement("div",{className:t.tokenItem},r.a.createElement(ye,null),r.a.createElement("span",null,"ETH")),value:"wrap"},{label:r.a.createElement("div",{className:t.tokenItem},r.a.createElement("img",{src:null===w||void 0===w?void 0:w.imageUri,alt:null===w||void 0===w?void 0:w.symbol}),r.a.createElement("span",null,(null===w||void 0===w?void 0:w.symbol)||"wETH")),value:"unwrap"}],onChange:function(e){return ne(e)},value:te}))),r.a.createElement("section",{className:t.submitButtonArea},r.a.createElement(p.Button,{type:"submit",fullsize:!0,variant:"primary"},"wrap"===te?"Wrap Token":"Unwrap token")),r.a.createElement("section",null,r.a.createElement(p.QuestionCircleSvg,{onClick:function(){return D(!0)},className:t.faqButton})))),r.a.createElement(x,{open:I,close:function(){return D(!1)}}),r.a.createElement(S,{open:L,close:function(){return K(!1)}}),r.a.createElement(U,{open:!w&&o,network:m,supportedNetworks:$.chains.filter((function(e){return e.tokens.find((function(e){return e.isNativeWrappedToken}))})).map((function(e){return e.networkId}))}),r.a.createElement(ke,{open:G,close:function(){return q(!1)},sender:f||"",start:function(){"wrap"===te?(de(),q(!1)):(ue(),q(!1))},sourceNetwork:(null===k||void 0===k?void 0:k.name)||"",tokenSymbol:"wrap"===te?(null===k||void 0===k?void 0:k.nativeTokenSymbol)||"ETH":(null===w||void 0===w?void 0:w.symbol)||"wETH",value:(null===X||void 0===X?void 0:X.tokenAmount)||0,wrappedTitle:"wrap"===te?"".concat(null===w||void 0===w?void 0:w.name," (").concat(null===w||void 0===w?void 0:w.symbol,")"):(null===k||void 0===k?void 0:k.nativeTokenSymbol)||"ETH",action:te}),ie&&r.a.createElement(xe,Object.assign({},ie,{close:function(){var e;le(void 0),e=Re.Transfer,Te.push(e)}})))},Ie=Object(u.makeStyles)((function(e){var t=e.constants;e.palette;return Object(u.createStyles)({root:{padding:6*t.generalUnit,position:"relative"}})})),Ue=function(){var e=Ie();return r.a.createElement("article",{className:e.root},"Explorer")};function De(e,t){switch(t.type){case"addTransfer":var n,a,r=(null===(n=e[t.payload.depositNonce])||void 0===n?void 0:n.proposalEvents)||[],o=(null===(a=e[t.payload.depositNonce])||void 0===a?void 0:a.votes)||[];return Object(c.a)(Object(c.a)({},e),{},Object(l.a)({},t.payload.depositNonce,Object(c.a)(Object(c.a)(Object(c.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{proposalEvents:[{proposalStatus:Se.Inactive,proposalEventBlockNumber:t.payload.transferDetails.depositBlockNumber,proposalEventTransactionHash:t.payload.transferDetails.depositTransactionHash,timestamp:t.payload.transferDetails.timestamp}].concat(Object(J.a)(r)),votes:Object(J.a)(o)})));case"addProposalEvent":var i,s=(null===(i=e[t.payload.depositNonce])||void 0===i?void 0:i.proposalEvents)||[];return Object(c.a)(Object(c.a)({},e),{},Object(l.a)({},t.payload.depositNonce,Object(c.a)(Object(c.a)(Object(c.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{proposalEvents:[].concat(Object(J.a)(s),[t.payload.proposalEventDetails])})));case"addVote":var d,u=(null===(d=e[t.payload.depositNonce])||void 0===d?void 0:d.votes)||[];return Object(c.a)(Object(c.a)({},e),{},Object(l.a)({},t.payload.depositNonce,Object(c.a)(Object(c.a)(Object(c.a)({},e[t.payload.depositNonce]),t.payload.transferDetails),{},{votes:[].concat(Object(J.a)(u),[t.payload.voteDetails])})));default:return e}}!function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.Passed=2]="Passed",e[e.Executed=3]="Executed",e[e.Cancelled=4]="Cancelled"}(Se||(Se={}));var _e=r.a.createContext(void 0),Be=function(e){var t=e.children,n=Object(a.useReducer)(De,{}),o=Object(v.a)(n,2),i=o[0],l=o[1],s=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all($.chains.map(function(){var e=Object(g.a)(b.a.mark((function e(t){var n,a,r,o,i,s,d,u,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Checking events for ".concat(t.name)),n=new M.providers.JsonRpcProvider(t.rpcUrl,t.networkId),a=F.BridgeFactory.connect(t.bridgeAddress,n),r=F.Erc20HandlerFactory.connect(t.erc20HandlerAddress,n),o=a.filters.Deposit(null,null,null),e.next=7,n.getLogs(Object(c.a)(Object(c.a)({},o),{},{fromBlock:t.deployedBlockNumber}));case 7:return(i=e.sent).forEach(function(){var e=Object(g.a)(b.a.mark((function e(o){var i,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.interface.parseLog(o),e.next=3,r.getDepositRecord(c.args.depositNonce,c.args.destinationChainID);case 3:return s=e.sent,e.t0=l,e.t1=c.args.depositNonce.toNumber(),e.t2=s._depositer,e.t3=o.blockNumber,e.t4=o.transactionHash,e.t5=t.chainId,e.t6=t.name,e.next=13,n.getBlock(o.blockNumber);case 13:e.t7=e.sent.timestamp,e.t8=c.args.destinationChainID,e.t9=(null===(i=$.chains.find((function(e){return e.chainId===c.args.destinationChainID})))||void 0===i?void 0:i.name)||"",e.t10=s._destinationRecipientAddress,e.t11=s._tokenAddress,e.t12=s._amount,e.t13=c.args.resourceID,e.t14={fromAddress:e.t2,depositBlockNumber:e.t3,depositTransactionHash:e.t4,fromChainId:e.t5,fromNetworkName:e.t6,timestamp:e.t7,toChainId:e.t8,toNetworkName:e.t9,toAddress:e.t10,tokenAddress:e.t11,amount:e.t12,resourceId:e.t13},e.t15={depositNonce:e.t1,transferDetails:e.t14},e.t16={type:"addTransfer",payload:e.t15},(0,e.t0)(e.t16);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(i.length," deposits")),a.on(o,function(){var e=Object(g.a)(b.a.mark((function e(a,o,i,c){var s,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getDepositRecord(i,a);case 2:return d=e.sent,e.t0=l,e.t1=i.toNumber(),e.t2=d._depositer,e.t3=c.blockNumber,e.t4=c.transactionHash,e.t5=t.chainId,e.t6=t.name,e.next=12,n.getBlock(c.blockNumber);case 12:e.t7=e.sent.timestamp,e.t8=a,e.t9=(null===(s=$.chains.find((function(e){return e.chainId===a})))||void 0===s?void 0:s.name)||"",e.t10=d._destinationRecipientAddress,e.t11=d._tokenAddress,e.t12=d._amount,e.t13=o,e.t14={fromAddress:e.t2,depositBlockNumber:e.t3,depositTransactionHash:e.t4,fromChainId:e.t5,fromNetworkName:e.t6,timestamp:e.t7,toChainId:e.t8,toNetworkName:e.t9,toAddress:e.t10,tokenAddress:e.t11,amount:e.t12,resourceId:e.t13},e.t15={depositNonce:e.t1,transferDetails:e.t14},e.t16={type:"addTransfer",payload:e.t15},(0,e.t0)(e.t16);case 23:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()),s=a.filters.ProposalEvent(null,null,null,null,null),e.next=14,n.getLogs(Object(c.a)(Object(c.a)({},s),{},{fromBlock:t.deployedBlockNumber}));case 14:return(d=e.sent).forEach(function(){var e=Object(g.a)(b.a.mark((function e(r){var o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.interface.parseLog(r),e.t0=l,e.t1=i.args.depositNonce.toNumber(),e.t2={resourceId:i.args.resourceID,fromChainId:i.args.originChainID,fromNetworkName:(null===(o=$.chains.find((function(e){return e.chainId===i.args.originChainID})))||void 0===o?void 0:o.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=r.blockNumber,e.t4=r.transactionHash,e.t5=i.args.dataHash,e.next=9,n.getBlock(r.blockNumber);case 9:e.t6=e.sent.timestamp,e.t7=i.args.status,e.t8={proposalEventBlockNumber:e.t3,proposalEventTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,proposalStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,proposalEventDetails:e.t8},e.t10={type:"addProposalEvent",payload:e.t9},(0,e.t0)(e.t10);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(d.length," proposal events")),a.on(s,function(){var e=Object(g.a)(b.a.mark((function e(a,r,o,i,c,s){var d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.t1=r.toNumber(),e.t2={resourceId:i,fromChainId:a,fromNetworkName:(null===(d=$.chains.find((function(e){return e.chainId===a})))||void 0===d?void 0:d.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=s.blockNumber,e.t4=s.transactionHash,e.t5=c,e.next=8,n.getBlock(s.blockNumber);case 8:e.t6=e.sent.timestamp,e.t7=o,e.t8={proposalEventBlockNumber:e.t3,proposalEventTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,proposalStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,proposalEventDetails:e.t8},e.t10={type:"addProposalEvent",payload:e.t9},(0,e.t0)(e.t10);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()),u=a.filters.ProposalVote(null,null,null,null),e.next=21,n.getLogs(Object(c.a)(Object(c.a)({},u),{},{fromBlock:t.deployedBlockNumber}));case 21:return(p=e.sent).forEach(function(){var e=Object(g.a)(b.a.mark((function e(r){var o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.interface.parseLog(r),e.t0=l,e.t1=i.args.depositNonce.toNumber(),e.t2={resourceId:i.args.resourceID,fromChainId:i.args.originChainID,fromNetworkName:(null===(o=$.chains.find((function(e){return e.chainId===i.args.originChainID})))||void 0===o?void 0:o.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=r.blockNumber,e.t4=r.transactionHash,e.t5=i.args.dataHash,e.next=9,n.getBlock(r.blockNumber);case 9:e.t6=e.sent.timestamp,e.t7=i.args.status,e.t8={voteBlockNumber:e.t3,voteTransactionHash:e.t4,dataHash:e.t5,timestamp:e.t6,voteStatus:e.t7},e.t9={depositNonce:e.t1,transferDetails:e.t2,voteDetails:e.t8},e.t10={type:"addVote",payload:e.t9},(0,e.t0)(e.t10);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Added ".concat(t.name," ").concat(p.length," proposal votes")),a.on(u,function(){var e=Object(g.a)(b.a.mark((function e(a,r,o,i,c){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.t1=r.toNumber(),e.t2={resourceId:i,fromChainId:a,fromNetworkName:(null===(s=$.chains.find((function(e){return e.chainId===a})))||void 0===s?void 0:s.name)||"",toChainId:t.chainId,toNetworkName:t.name},e.t3=c.blockNumber,e.t4=c.transactionHash,e.next=7,n.getBlock(c.blockNumber);case 7:e.t5=e.sent.timestamp,e.t6=1===o,e.t7={voteBlockNumber:e.t3,voteTransactionHash:e.t4,dataHash:"",timestamp:e.t5,voteStatus:e.t6},e.t8={depositNonce:e.t1,transferDetails:e.t2,voteDetails:e.t7},e.t9={type:"addVote",payload:e.t8},(0,e.t0)(e.t9);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=[];return function(){var t=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:e=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.length>0&&e.forEach((function(e){e.removeAllListeners()}))}}),[]),r.a.createElement(_e.Provider,{value:{transfers:i}},t)},Re={Transfer:"/transfer",Wrap:"/wrap",Explore:"/explore"},Pe=function(){return r.a.createElement(p.Switch,null,r.a.createElement(p.Route,{exact:!0,path:Re.Transfer,component:fe}),r.a.createElement(p.Route,{exact:!0,path:Re.Wrap,component:je}),r.a.createElement(p.Route,{exact:!0,path:Re.Explore},r.a.createElement(Be,null,r.a.createElement(Ue,null))),r.a.createElement(p.Route,{exact:!0,path:"/"},r.a.createElement(p.Redirect,{to:Re.Transfer})))},Ae=Object(u.createTheme)({globalStyling:{body:{backgroundColor:"#232525"}},themeConfig:{constants:{navItemHeight:42},palette:{additional:{general:{1:"#85A5FF"},transferUi:{1:"#595959"},header:{1:"#292D33",2:"#FFB014",3:"#292D33"},preflight:{1:"#FFB014",2:"#262626"},transactionModal:{1:"#FFDFA0",2:"#FFD789",3:"#FFB014"}}},overrides:{CheckboxInput:{root:{color:"#FFB014",alignItems:"center"}},Button:{variants:{primary:{root:{backgroundColor:"#FFB014",color:"#ffffff",border:"1px solid #262626","& svg":{fill:"#ffffff"}},active:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}},hover:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}},focus:{backgroundColor:"#ffffff",color:"#262626","& svg":{fill:"#262626"}}},outline:{root:{backgroundColor:"transparent",color:"#ffffff",border:"1px solid #ffffff","& svg":{fill:"#ffffff"}},active:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}},hover:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}},focus:{backgroundColor:"#ffffff",color:"#262626",borderColor:"#ffffff","& svg":{fill:"#262626"}}}}}}}});function Fe(){var e=Object(m.a)(["\ncolor: #FFB014;\n"]);return Fe=function(){return e},e}var He=Object(u.makeStyles)((function(e){var t=e.constants,n=e.palette,a=e.zIndex;return Object(u.createStyles)({root:{display:"flex",position:"fixed",justifyContent:"space-between",padding:"".concat(2*t.generalUnit,"px ").concat(4*t.generalUnit,"px"),width:"100%",top:0,left:0,backgroundColor:n.additional.header[1],borderBottom:"1px solid ".concat(n.additional.header[3]),color:n.additional.header[2],alignItems:"center",zIndex:null===a||void 0===a?void 0:a.layer2},left:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},logo:{height:5*t.generalUnit,width:5*t.generalUnit,"& svg, & img":{maxHeight:"100%",maxWidth:"100%"}},state:{display:"flex",flexDirection:"row",alignItems:"center"},indicator:{display:"block",height:10,width:10,borderRadius:"50%",backgroundColor:n.additional.green[6],marginRight:t.generalUnit},address:{marginRight:t.generalUnit},network:{}})})),We=(de.a.h2(Fe()),function(){var e=He(),t=Object(O.b)(),n=t.isReady,a=t.address,o=ae(),i=o.homeChain,l=o.getTestnetBridge,c=o.getTestnetWeenus,s=null===i||void 0===i?void 0:i.chainId;return console.log(s),r.a.createElement("header",{className:Object(y.default)(e.root)},r.a.createElement("div",{className:e.left},r.a.createElement(p.Typography,{variant:"h4"},"Multibridge")),r.a.createElement("section",{className:e.state},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.indicator}),r.a.createElement(p.Typography,{variant:"h5",className:e.address},a&&D(a)),r.a.createElement(p.Typography,{variant:"h5",className:e.address},"connected to ",r.a.createElement("strong",null,null===i||void 0===i?void 0:i.name)),1==s?r.a.createElement(p.Button,{onClick:function(){return l()},variant:"primary"},"Get Testnet BRIDGE"):r.a.createElement(p.Button,{onClick:function(){return c()},variant:"primary"},"Get Testnet WEENUS")):r.a.createElement(p.Typography,{variant:"h5"},"No wallet connected")))}),Me=Object(u.makeStyles)((function(e){var t=e.animation,n=e.constants,a=e.palette;return Object(u.createStyles)({root:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",paddingTop:60},inner:{paddingTop:2*n.navItemHeight,paddingBottom:2*n.navItemHeight},cta:{display:"block",maxWidth:200,maxHeight:200,position:"fixed",bottom:3*n.generalUnit,right:3*n.generalUnit},content:{margin:"0 auto",background:"#abaeb1",maxWidth:460,display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:4},pageArea:{height:"100%",width:"100%",overflow:"hidden",border:"1px solid ".concat(a.additional.gray[7]),borderRadius:4},navTabs:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:"0 ".concat(n.generalUnit,"px"),transform:"translateY(1px)","& > a":{display:"flex",flexDirection:"row",alignItems:"center",padding:"".concat(n.generalUnit,"px ").concat(1.5*n.generalUnit,"px"),border:"1px solid ".concat(a.additional.gray[7]),textDecoration:"none",marginRight:n.generalUnit,transitionDuration:"".concat(t.transform,"ms"),color:a.additional.gray[8],maxHeight:n.navItemHeight,"& svg":{transitionDuration:"".concat(t.transform,"ms"),fill:a.additional.gray[8]},"&.active":{color:a.additional.gray[9],textDecoration:"underline","& svg":{fill:a.additional.geekblue[5]}},"& > *:first-child":{marginRight:n.generalUnit}},"& svg":{height:14,width:14}}})})),Le=function(e){var t=e.children,n=Me();return r.a.createElement("section",{className:n.root},r.a.createElement("section",{className:n.inner},r.a.createElement(We,null),r.a.createElement("section",{className:n.content},r.a.createElement("section",{className:n.navTabs}),r.a.createElement("div",{className:n.pageArea},t))))};n(279);Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SENTRY_DSN_URL&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SENTRY_RELEASE&&Object(s.a)({dsn:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SENTRY_DSN_URL,release:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SENTRY_RELEASE});var Ke=function(){var e=$.chains.reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(l.a)({},t.networkId,t.tokens))}),{});return r.a.createElement(d.a,{fallback:function(e){var t=e.error,n=e.componentStack,a=e.eventId,o=e.resetError;return r.a.createElement("div",null,r.a.createElement("p",null,'An error occurred and has been logged. If you would like to provide additional info to help us debug and resolve the issue, click the "Provide Additional Details" button'),r.a.createElement("p",null,null===t||void 0===t?void 0:t.message.toString()),r.a.createElement("p",null,n),r.a.createElement("p",null,a),r.a.createElement("button",{onClick:function(){return Object(s.b)({eventId:a||""})}},"Provide Additional Details"),r.a.createElement("button",{onClick:o},"Reset error"))},onReset:function(){return window.location.reload()}},r.a.createElement(u.ThemeSwitcher,{themes:{light:Ae}},r.a.createElement(p.CssBaseline,null),r.a.createElement(p.ToasterProvider,{autoDismiss:!0},r.a.createElement(O.a,{tokensToWatch:e,onboardConfig:{dappId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BLOCKNATIVE_DAPP_ID,walletSelect:{wallets:[{walletName:"metamask",preferred:!0}]},subscriptions:{network:function(e){return console.log("chainId: ",e)},balance:function(e){return console.log("balance: ",M.utils.formatEther(e))}}},checkNetwork:!1,gasPricePollingInterval:120,gasPriceSetting:"fast"},r.a.createElement(ne,null,r.a.createElement(p.Router,null,r.a.createElement(Le,null,r.a.createElement(Pe,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[241,12,13]]]);